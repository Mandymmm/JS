#第二周第一天
[toc]
##重构原型对象
- 回顾：
 每个类天生自带的属性**prototype**，浏览器天生为它开辟了一个堆内存，里面有天生自带的属性**constructor**，constructor的属性值是指向**当前函数(类)本身**

 
- `重构原型对象`：自己**手动开辟一个堆内存**，并且**赋给类的原型**，用来**存储公有的属性和方法**
	 
	- 这样**会将浏览器天生为类的原型开辟的堆内存替换掉**，其对应的对象就改变了，不再是浏览器天生开辟的了
 
	- 由于为类的原型新开辟了一个堆内存，所以**最终通过原型链机制查找constructor这个属性，找到的是Object.prototype上的constructor** ----- 即 f1.constructor => function Object{ }
	 
	- **只有浏览器天生为类的原型开辟的堆内存才自动拥有constructor这个属性**，而我们**手动开辟的堆内存没有**constructor这个属性，**但是也可以手动**在新开辟的堆内存里**添加这个属性，属性值可以设置为当前函数本身** ----- 这样f1.constructor找到的仍然是Fn函数本身
	 
```
	function Fn() {

    }
//    var f1=new Fn;
//    console.log(Fn.prototype);//每个类天生自带的属性 浏览器为它开辟了一个堆内存 ，里面有天生自带的属性 constructor ，constructor的属性值 指向当前函数（类）本身
    Fn.prototype={
//     constructor:Fn,    ;//为了和原来一样  就自己手动在 自己为Fn.prototype开辟的堆内存里添加constructor 并且指向Fn  这样f1.constructor找到的仍然是Fn函数本身
        y:10
    };//手动开辟一个堆内存，并且赋给Fn.prototype，这样Fn的原型对应的对象就改变了 不再是浏览器天生开辟的了，

    var f1=new Fn;
    console.log(Fn.prototype);

//    重构原型对象：自己开辟的堆内存 来存储公有的属性和方法  将浏览器天生为Fn.prototype开辟的堆内存替换掉
    console.log(f1.constructor);//由于我们为Fn.prototype新开辟了一个堆内存，所以最终通过原型链查找constructor这个属性  找到的是Object.prototype上的constructor 即 f1.constructor => function Object{ }

    // 只有浏览器天生为Fn.prototype开辟的堆内存才有constructor这个属性，而我们手动开辟的堆内存没有constructor这个属性，但是也可以手动添加这个属性，属性值可以设置为当前函数Fn本身

```

##批量设置公有属性 
####------ 利用重构原型对象的方法
**`具体形如下例：`** 【**适用于**给**自定义类**添加公有的属性和方法】
```
Fn.prototype={
        constructor:Fn,// 这种方法需要手动添加constructor属性及其指向(当前函数)
        x:10,
        y:30,
        z:60
    }
```
 `但是：`
 - 如果**用**这种**重构原型对象的方法给内置类批量添加公有属性和方法**，**不会生效**，被浏览器屏蔽掉了
	 - **因为**如果我们自己手动为内置类原型重新开辟一个堆内存，就会将内置类修改，会将浏览器天生给它开辟的堆内存替换掉，导致内置类原有的属性和方法都被替换，被影响
	 - 所以**给内置类添加公有属性和方法**的时候，不能使用重构原型对象的方法，而是**需要一个一个添加**
```
	Array.prototype.mySlice=function mySlice() { //一个一个添加
        console.log('mySlice');
    };
    [].mySlice();



    Array.prototype={ //不能使用
        mySlice:function () {
            console.log('mySlice');
        }
    };
    [].mySlice();//不生效
```

- 如果我们**手动新添加的属性名和内置类原型上已有的属性相同**，那么原有的属性会被后面手动新添加的属性**覆盖掉**
	- **所以** 在**内置类的原型上添加**属性和方法的时候，要**注意命名** ----- 可以**加前缀**
```
	Array.prototype.slice=function () {
        console.log('mySlice');
        return 123;
    };
    console.log([1,2,3].slice());//Array原型上原有的slice方法被覆盖掉
```

